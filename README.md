# Dialog System ‚Äî State Machine-Based Dialog System for Unity

[![Unity 2021.3+](https://img.shields.io/badge/Unity-2021.3%2B-000000?logo=unity)](https://unity.com)
[![Cinemachine](https://img.shields.io/badge/Cinemachine-Enabled-0077CC)](https://unity.com/products/cinemachine)
[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

**–í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–æ–π –¥–∏–∞–ª–æ–≥–æ–≤ Genshin Impact** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤ —Å –ø–ª–∞–≤–Ω—ã–º –ø–æ—è–≤–ª–µ–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞, –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –∫–∞–º–µ—Ä. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ **State Machine** —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.

---

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üé≠ **–ê–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è –ª—é–±–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —á–µ—Ä–µ–∑ `DialogSceneVisualizator`
- üé• **Cinemachine-–∫–∞–º–µ—Ä—ã** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–º–µ—Ä –ø—Ä–∏ —Å–º–µ–Ω–µ —Ä–µ–ø–ª–∏–∫
- üí¨ **–ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞** ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏
- üë• **–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±–æ–≥–æ —á–∏—Å–ª–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤ –¥–∏–∞–ª–æ–≥–µ
- üéÆ **–ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π
- üß© **–ë–µ–∑ —Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–≤** ‚Äî —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- üñºÔ∏è **–í–∏–∑—É–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** ‚Äî –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ Unity


---

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 1. DialogConfig ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏–∞–ª–æ–≥–∞

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å —Ç–µ–∫—Å—Ç–∞–º–∏, –ø–æ–∑–∏—Ü–∏–µ–π –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º.

<img width="367" height="659" alt="image" src="https://github.com/user-attachments/assets/ce453553-86a7-4a97-9f07-ee85c0d7a0a6" />


**–ü–æ–ª—è:**
- **Texts** ‚Äî –Ω–∞–±–æ—Ä —Ä–µ–ø–ª–∏–∫ —Å –∏–º–µ–Ω–∞–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- **Symbols Speed** ‚Äî –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- **Dialog Position** ‚Äî –ø–æ–∑–∏—Ü–∏—è –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ –æ–∫–Ω–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- **Visualizator** ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ `DialogSceneVisualizator`

---

### 2. DialogSceneVisualizator ‚Äî –í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–∏–∞–ª–æ–≥–∞

–ü—Ä–µ—Ñ–∞–± –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–π –∏ –∫–∞–º–µ—Ä –≤–æ –≤—Ä–µ–º—è –¥–∏–∞–ª–æ–≥–∞.

<img width="359" height="574" alt="image" src="https://github.com/user-attachments/assets/c551d9b1-5919-4aae-8c23-e62ff7cc207d" />

**–ü–æ–ª—è:**
- **Dialog Visualizations** ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —ç—Ç–∞–ø–æ–≤ –¥–∏–∞–ª–æ–≥–∞:
  - `Character` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ `Animator` –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
  - `Animation` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `TalkingQuestion`)
  - `Camera` ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è `CinemachineVirtualCamera`

**–í–∞–∂–Ω–æ:** –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ `Animator` –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–Ω–∏–º–∞—Ü–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

---

### 3. DialogCharacter ‚Äî –ó–∞–ø—É—Å–∫ –¥–∏–∞–ª–æ–≥–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∏–Ω–∏—Ü–∏–∞—Ü–∏–∏ –¥–∏–∞–ª–æ–≥–∞ —á–µ—Ä–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä.

<img width="370" height="165" alt="image" src="https://github.com/user-attachments/assets/61c2d2f3-e135-4c15-b585-1d054ce03005" />

**–ü–æ–ª—è:**
- **Trigger** ‚Äî –æ–±—ä–µ–∫—Ç-—Ç—Ä–∏–≥–≥–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–∏–∞–ª–æ–≥–∞
- **Dialog Config** ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–∏–∞–ª–æ–≥–∞
- **Other Characters** ‚Äî —Å–ø–∏—Å–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –≤–æ –≤—Ä–µ–º—è –¥–∏–∞–ª–æ–≥–∞

---

## –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞

1. –°–æ–∑–¥–∞–π—Ç–µ `DialogConfig` —á–µ—Ä–µ–∑ `Assets ‚Üí Create ‚Üí Config ‚Üí Dialog`
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–ø–ª–∏–∫–∏ –∏ –ø–æ–∑–∏—Ü–∏—é
3. –°–æ–∑–¥–∞–π—Ç–µ `DialogSceneVisualizator` —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏ –∫–∞–º–µ—Ä–∞–º–∏
4. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –∫ –æ–±—ä–µ–∫—Ç—É —á–µ—Ä–µ–∑ `DialogCharacter`

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è                     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                  |
|--------------------|--------------------------------|-------------------------------------------|
| –î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞  | State Machine                  | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –¥–∏–∞–ª–æ–≥–∞            |
| –ê–Ω–∏–º–∞—Ü–∏–∏           | Animator                       | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π          |
| –ö–∞–º–µ—Ä—ã             | Cinemachine                    | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–º–µ—Ä –Ω–∞ —ç—Ç–∞–ø–∞—Ö –¥–∏–∞–ª–æ–≥–∞     |
| –¢–µ–∫—Å—Ç              | TextMeshPro                    | –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞                  |
| –°–æ–±—ã—Ç–∏—è            | Unity Events                   | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π             |

---
